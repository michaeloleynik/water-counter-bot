# ๐ง Telegram Bot ะดะปั ััะตัะฐ ะฟะพะบะฐะทะฐะฝะธะน ััะตััะธะบะพะฒ ะฒะพะดะฝัั ะฐะฟะฟะฐัะฐัะพะฒ

ะกะพะฒัะตะผะตะฝะฝะพะต ัะตัะตะฝะธะต ะดะปั ะบะพะฝััะพะปั ะธ ััะตัะฐ ะฟะพะบะฐะทะฐะฝะธะน ััะตััะธะบะพะฒ ะฒะพะดะฝัั ะฐะฟะฟะฐัะฐัะพะฒ ัะตัะตะท Telegram ั ะฟะพะดะดะตัะถะบะพะน ัะฐะฑะพัั ะฒ offline-ัะตะถะธะผะต.

[![TypeScript](https://img.shields.io/badge/TypeScript-007ACC?style=flat&logo=typescript&logoColor=white)](https://www.typescriptlang.org/)
[![Node.js](https://img.shields.io/badge/Node.js-339933?style=flat&logo=node.js&logoColor=white)](https://nodejs.org/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-316192?style=flat&logo=postgresql&logoColor=white)](https://www.postgresql.org/)
[![React](https://img.shields.io/badge/React-61DAFB?style=flat&logo=react&logoColor=black)](https://reactjs.org/)

## ๐ ะกะพะดะตัะถะฐะฝะธะต

- [ะัััััะน ััะฐัั](#-ะฑัััััะน-ััะฐัั)
- [ะะพะทะผะพะถะฝะพััะธ](#-ะฒะพะทะผะพะถะฝะพััะธ)
- [ะขะตัะฝะพะปะพะณะธะธ](#-ัะตัะฝะพะปะพะณะธะธ)
- [ะฃััะฐะฝะพะฒะบะฐ](#-ัััะฐะฝะพะฒะบะฐ)
- [ะะพะบัะผะตะฝัะฐัะธั](#-ะดะพะบัะผะตะฝัะฐัะธั)
- [ะกะบัะธะฝัะพัั](#-ัะบัะธะฝัะพัั)
- [ะััะธัะตะบัััะฐ](#-ะฐััะธัะตะบัััะฐ)
- [ะะฐะทัะฐะฑะพัะบะฐ](#-ัะฐะทัะฐะฑะพัะบะฐ)
- [FAQ](#-faq)
- [ะะธัะตะฝะทะธั](#-ะปะธัะตะฝะทะธั)

## ๐ ะัััััะน ััะฐัั

### ะะฐัะธะฐะฝั 1: Docker Compose (ะะตะบะพะผะตะฝะดัะตััั) ๐ณ

```bash
# 1. ะะฐัััะพะนัะต .env
copy .env.docker.example .env
# ะฃะบะฐะถะธัะต BOT_TOKEN ะธ DEFAULT_ADMIN_TELEGRAM_ID

# 2. ะะฐะฟัััะธัะต
docker-compose up -d

# 3. ะะพัะพะฒะพ! ๐
```

๐ ะะพะดัะพะฑะฝะตะต: [DOCKER.md](DOCKER.md)

### ะะฐัะธะฐะฝั 2: ะะฑััะฝะฐั ัััะฐะฝะพะฒะบะฐ

```bash
# 1. ะฃััะฐะฝะพะฒะธัะต ะทะฐะฒะธัะธะผะพััะธ
npm install

# 2. ะะฐัััะพะนัะต .env ัะฐะนะป
copy .env.example .env

# 3. ะะฝะธัะธะฐะปะธะทะธััะนัะต ะฑะฐะทั ะดะฐะฝะฝัั
npm run db:migrate

# 4. ะะฐะฟัััะธัะต ะฑะพัะฐ
npm run dev
```

๐ ะะพะดัะพะฑะฝะฐั ะธะฝััััะบัะธั: [QUICKSTART.md](QUICKSTART.md)

## โจ ะะพะทะผะพะถะฝะพััะธ

### ะะปั ะฐะดะผะธะฝะธัััะฐัะพัะพะฒ ๐

- โ **ะฃะฟัะฐะฒะปะตะฝะธะต ะฐะฟะฟะฐัะฐัะฐะผะธ** - ะดะพะฑะฐะฒะปะตะฝะธะต, ะฟัะพัะผะพัั ะธ ัะตะดะฐะบัะธัะพะฒะฐะฝะธะต
- ๐ฅ **ะฃะฟัะฐะฒะปะตะฝะธะต ะฟะพะปัะทะพะฒะฐัะตะปัะผะธ** - ะฟัะธะณะปะฐัะตะฝะธะต ัะพัััะดะฝะธะบะพะฒ ะธ ะฐะดะผะธะฝะธัััะฐัะพัะพะฒ
- ๐ **ะััะตัั ะธ ะฐะฝะฐะปะธัะธะบะฐ** - ััะฐัะธััะธะบะฐ ะฟะพ ะดะฐัะฐะผ, ะฐะฟะฟะฐัะฐัะฐะผ, ัะพัััะดะฝะธะบะฐะผ
- ๐ **ะัะฐัะธะบะธ ะฟะพััะตะฑะปะตะฝะธั** - ะฒะธะทัะฐะปะธะทะฐัะธั ัะฐััะพะดะฐ ะฒะพะดั
- ๐ท **ะัะพัะผะพัั ัะพัะพ** - ะฒัะต ะทะฐะณััะถะตะฝะฝัะต ัะพัะพะณัะฐัะธะธ ะฟะพะบะฐะทะฐะฝะธะน
- ๐ **ะกะธััะตะผะฐ ะฟัะธะณะปะฐัะตะฝะธะน** - ะณะตะฝะตัะฐัะธั ัะฝะธะบะฐะปัะฝัั ัััะปะพะบ

### ะะปั ัะพัััะดะฝะธะบะพะฒ ๐ท

- ๐ **ะะฐะณััะทะบะฐ ะฟะพะบะฐะทะฐะฝะธะน** - ะฟัะพััะพะน ะฟะพัะฐะณะพะฒัะน ะฟัะพัะตัั
- ๐ท **ะะฑัะทะฐัะตะปัะฝะพะต ัะพัะพ** - ะฟะพะดัะฒะตัะถะดะตะฝะธะต ะฟะพะบะฐะทะฐะฝะธะน
- ๐ **ะััะพัะธั ะฟะพะบะฐะทะฐะฝะธะน** - ะฟัะพัะผะพัั ัะฒะพะธั ะทะฐะณััะทะพะบ
- ๐พ **Offline-ัะตะถะธะผ** (ะฒ ัะฐะทัะฐะฑะพัะบะต) - ัะฐะฑะพัะฐ ะฑะตะท ะธะฝัะตัะฝะตัะฐ

### ะขะตัะฝะธัะตัะบะธะต ะพัะพะฑะตะฝะฝะพััะธ ๐ง

- ๐ **ะะตะทะพะฟะฐัะฝะพััั** - ัะธััะตะผะฐ ัะพะปะตะน ะธ ะฟัะธะณะปะฐัะตะฝะธะน
- ๐พ **PostgreSQL** - ะฝะฐะดะตะถะฝะพะต ััะฐะฝะตะฝะธะต ะดะฐะฝะฝัั
- ๐ **ะัะณะฐะฝะธะทะพะฒะฐะฝะฝะพะต ััะฐะฝะธะปะธัะต** - ัะฐะนะปั ะฟะพ ะดะฐัะฐะผ
- ๐ **REST API** - ะดะปั Mini App ะธ ะธะฝัะตะณัะฐัะธะน
- ๐ฏ **TypeScript** - ัะธะฟะพะฑะตะทะพะฟะฐัะฝะพััั

## ๐ ะขะตัะฝะพะปะพะณะธะธ

### Backend
- **Node.js 20+** - JavaScript runtime
- **TypeScript** - ัะธะฟะธะทะธัะพะฒะฐะฝะฝัะน JavaScript
- **Telegraf** - Telegram Bot Framework
- **PostgreSQL** - ัะตะปััะธะพะฝะฝะฐั ะฑะฐะทะฐ ะดะฐะฝะฝัั
- **Express** - ะฒะตะฑ-ััะตะนะผะฒะพัะบ ะดะปั API

### Frontend (ะฒ ัะฐะทัะฐะฑะพัะบะต)
- **React 18** - UI ะฑะธะฑะปะธะพัะตะบะฐ
- **Telegram Web Apps API** - ะธะฝัะตะณัะฐัะธั ั Telegram
- **Dexie** - ะพะฑะตััะบะฐ ะฝะฐะด IndexedDB ะดะปั offline-ัะตะถะธะผะฐ
- **Vite** - ะฑััััะฐั ัะฑะพัะบะฐ

## ๐ฆ ะฃััะฐะฝะพะฒะบะฐ

### ะขัะตะฑะพะฒะฐะฝะธั

- Node.js 18+
- PostgreSQL 12+
- npm ะธะปะธ yarn

### ะะพัะฐะณะพะฒะฐั ัััะฐะฝะพะฒะบะฐ

**1. ะกะพะทะดะฐะนัะต Telegram ะฑะพัะฐ**

ะัะบัะพะนัะต [@BotFather](https://t.me/BotFather) ะธ ัะพะทะดะฐะนัะต ะฝะพะฒะพะณะพ ะฑะพัะฐ.

**2. ะฃััะฐะฝะพะฒะธัะต PostgreSQL**

```bash
# Windows (ะธะปะธ ะธัะฟะพะปัะทัะนัะต Docker)
docker run --name water-counter-db \
  -e POSTGRES_PASSWORD=mypassword \
  -e POSTGRES_DB=water_counter_bot \
  -p 5432:5432 -d postgres:15
```

**3. ะะปะพะฝะธััะนัะต ะธ ะฝะฐัััะพะนัะต ะฟัะพะตะบั**

```bash
# ะะปะพะฝะธัะพะฒะฐะฝะธะต (ะตัะปะธ ะธัะฟะพะปัะทัะตัะต git)
git clone <your-repo>
cd tg-bot

# ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน
npm install

# ะะฐัััะพะนะบะฐ ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั
copy .env.example .env
# ะััะตะดะฐะบัะธััะนัะต .env ัะฐะนะป

# ะะฝะธัะธะฐะปะธะทะฐัะธั ะฑะฐะทั ะดะฐะฝะฝัั
npm run db:migrate

# ะะฐะฟััะบ
npm run dev
```

๐ ะะพะปะฝะฐั ะธะฝััััะบัะธั: [INSTALL.md](INSTALL.md)

## ๐ ะะพะบัะผะตะฝัะฐัะธั

**๐ [ะะพะปะฝัะน ะธะฝะดะตะบั ะดะพะบัะผะตะฝัะฐัะธะธ](DOCS_INDEX.md)** - ะฒัะต ะดะพะบัะผะตะฝัั ะฒ ะพะดะฝะพะผ ะผะตััะต

### ะัััััะน ะดะพัััะฟ:
- ๐ [ะัััััะน ััะฐัั](QUICKSTART.md) - ะฝะฐัะฐะปะพ ัะฐะฑะพัั ะทะฐ 5 ะผะธะฝัั โญ
- โ [ะงะตะบะปะธัั ัััะฐะฝะพะฒะบะธ](CHECKLIST.md) - ะฟะพัะฐะณะพะฒะฐั ะธะฝััััะบัะธั
- ๐ง [ะะพะดัะพะฑะฝะฐั ัััะฐะฝะพะฒะบะฐ](INSTALL.md) - ะดะตัะฐะปัะฝะพะต ััะบะพะฒะพะดััะฒะพ
- ๐ณ [Docker Deployment](DOCKER.md) - ะทะฐะฟััะบ ัะตัะตะท Docker
- ๐ [ะะพะทะผะพะถะฝะพััะธ](FEATURES.md) - ัะตะบััะธะต ััะฝะบัะธะธ ะธ ะฟะปะฐะฝั ัะฐะทะฒะธัะธั
- ๐๏ธ [ะััะธัะตะบัััะฐ](ARCHITECTURE.md) - ััััะบัััะฐ ะธ ะฟะฐััะตัะฝั ะฟัะพะตะบัะฐ
- ๐ [API ะดะพะบัะผะตะฝัะฐัะธั](API.md) - REST API ัะฝะดะฟะพะธะฝัั

## ๐ผ ะกะบัะธะฝัะพัั

*(ะะพะฑะฐะฒััะต ัะบัะธะฝัะพัั ะฑะพัะฐ ะฒ ะดะตะนััะฒะธะธ)*

## ๐ ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ          ะะพะปัะทะพะฒะฐัะตะปะธ Telegram           โ
โโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโ
             โ               โ
    โโโโโโโโโโผโโโโโโ  โโโโโโโผโโโโโโโโโโโ
    โ Telegram Bot โ  โ Mini App (PWA) โ
    โ  (Telegraf)  โ  โ React + Dexie  โ
    โโโโโโโโโโฌโโโโโโ  โโโโโโโฌโโโโโโโโโโโ
             โ               โ
             โ      โโโโโโโโโโผโโโโโโโโโ
             โ      โ   REST API      โ
             โ      โ   (Express)     โ
             โ      โโโโโโโโโโฌโโโโโโโโโ
             โ               โ
    โโโโโโโโโโผโโโโโโโโโโโโโโโโผโโโโโโโ
    โ     PostgreSQL Database       โ
    โ  (Users, Devices, Readings)   โ
    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

๐ ะะพะดัะพะฑะฝะตะต: [ARCHITECTURE.md](ARCHITECTURE.md)

## ๐ป ะะฐะทัะฐะฑะพัะบะฐ

### ะะพะผะฐะฝะดั

```bash
# ะะฐะทัะฐะฑะพัะบะฐ ั hot-reload
npm run dev

# ะกะฑะพัะบะฐ ะฟัะพะตะบัะฐ
npm run build

# ะะฐะฟััะบ production
npm start

# ะะธะณัะฐัะธะธ ะะ
npm run db:migrate

# ะะธะฝัะธะฝะณ
npm run lint
```

### ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
tg-bot/
โโโ src/                    # Backend ะธััะพะดะฝัะน ะบะพะด
โ   โโโ bot/               # Telegram Bot ะพะฑัะฐะฑะพััะธะบะธ
โ   โโโ api/               # REST API routes
โ   โโโ database/          # Database connection & migrations
โ   โโโ models/            # TypeScript ะผะพะดะตะปะธ
โ   โโโ services/          # ะะธะทะฝะตั-ะปะพะณะธะบะฐ
โ   โโโ middleware/        # Middleware (auth, etc.)
โ   โโโ utils/             # ะฃัะธะปะธัั
โ   โโโ index.ts           # ะขะพัะบะฐ ะฒัะพะดะฐ
โโโ mini-app/              # Telegram Mini App (React)
โ   โโโ src/
โ   โ   โโโ components/   # React ะบะพะผะฟะพะฝะตะฝัั
โ   โ   โโโ services/     # API client, sync
โ   โ   โโโ db/           # IndexedDB schema
โ   โ   โโโ ...
โ   โโโ package.json
โโโ uploads/               # ะะฐะณััะถะตะฝะฝัะต ัะพัะพ
โโโ .env                   # ะะพะฝัะธะณััะฐัะธั (ัะพะทะดะฐัั ะฒัััะฝัั)
โโโ package.json
โโโ README.md
```

### ะะฐััะธัะตะฝะธะต ััะฝะบัะธะพะฝะฐะปะฐ

1. **ะะพะฑะฐะฒะปะตะฝะธะต ะฝะพะฒะพะณะพ ะพะฑัะฐะฑะพััะธะบะฐ:**
   - ะกะพะทะดะฐะนัะต ัะฐะนะป ะฒ `src/bot/handlers/`
   - ะะผะฟะพััะธััะนัะต ะฒ `src/bot/index.ts`
   - ะะฐัะตะณะธัััะธััะนัะต ะพะฑัะฐะฑะพััะธะบ

2. **ะะพะฑะฐะฒะปะตะฝะธะต API endpoint:**
   - ะะพะฑะฐะฒััะต ะผะฐััััั ะฒ `src/api/routes.ts`
   - ะัะฟะพะปัะทัะนัะต ัััะตััะฒัััะธะต ัะตัะฒะธัั

3. **ะะพะฑะฐะฒะปะตะฝะธะต ะผะพะดะตะปะธ:**
   - ะกะพะทะดะฐะนัะต ะธะฝัะตััะตะนั ะฒ `src/models/`
   - ะะฑะฝะพะฒะธัะต `database/schema.sql`
   - ะกะพะทะดะฐะนัะต ัะตัะฒะธั ะฒ `src/services/`

## โ FAQ

**Q: ะะฐะบ ัะทะฝะฐัั ัะฒะพะน Telegram ID?**  
A: ะัะบัะพะนัะต [@userinfobot](https://t.me/userinfobot) ะธ ะพัะฟัะฐะฒััะต ะปัะฑะพะต ัะพะพะฑัะตะฝะธะต.

**Q: ะะพั ะฝะต ะพัะฒะตัะฐะตั, ััะพ ะดะตะปะฐัั?**  
A: ะัะพะฒะตัััะต, ััะพ ะฑะพั ะทะฐะฟััะตะฝ, ัะพะบะตะฝ ะฟัะฐะฒะธะปัะฝัะน, ะธ ะฒั ะทะฐัะตะณะธัััะธัะพะฒะฐะฝั ะบะฐะบ ะฐะดะผะธะฝะธัััะฐัะพั.

**Q: ะะฐะบ ะดะพะฑะฐะฒะธัั ะฝะพะฒะพะณะพ ัะพัััะดะฝะธะบะฐ?**  
A: ะัะฟะพะปัะทัะนัะต ะผะตะฝั "ะฃะฟัะฐะฒะปะตะฝะธะต ะฟะพะปัะทะพะฒะฐัะตะปัะผะธ" โ "ะัะธะณะปะฐัะธัั ัะพัััะดะฝะธะบะฐ" ะธ ะพัะฟัะฐะฒััะต ัะณะตะฝะตัะธัะพะฒะฐะฝะฝัั ัััะปะบั.

**Q: ะะดะต ััะฐะฝัััั ัะพัะพะณัะฐัะธะธ?**  
A: ะ ะฟะฐะฟะบะต `uploads/` ั ะพัะณะฐะฝะธะทะฐัะธะตะน ะฟะพ ะณะพะดะฐะผ ะธ ะผะตัััะฐะผ.

**Q: ะะพะถะฝะพ ะปะธ ะธัะฟะพะปัะทะพะฒะฐัั SQLite ะฒะผะตััะพ PostgreSQL?**  
A: ะขะตัะฝะธัะตัะบะธ ะดะฐ, ะฝะพ ะฟะพััะตะฑัะตััั ะธะทะผะตะฝะธัั ะดัะฐะนะฒะตั ะะ. PostgreSQL ัะตะบะพะผะตะฝะดัะตััั ะดะปั production.

**Q: ะะฐะบ ัะฐะฑะพัะฐะตั offline-ัะตะถะธะผ?**  
A: ะงะตัะตะท Telegram Mini App ั IndexedDB. ะะฐะฝะฝัะต ัะพััะฐะฝััััั ะปะพะบะฐะปัะฝะพ ะธ ัะธะฝััะพะฝะธะทะธัััััั ะฟัะธ ะฟะพัะฒะปะตะฝะธะธ ะธะฝัะตัะฝะตัะฐ. (ะ ัะฐะทัะฐะฑะพัะบะต)

## ๐บ Roadmap

- [x] ะะฐะทะพะฒัะน ััะฝะบัะธะพะฝะฐะป ะฑะพัะฐ
- [x] ะฃะฟัะฐะฒะปะตะฝะธะต ะฐะฟะฟะฐัะฐัะฐะผะธ
- [x] ะฃะฟัะฐะฒะปะตะฝะธะต ะฟะพะปัะทะพะฒะฐัะตะปัะผะธ
- [x] ะกะธััะตะผะฐ ะฟัะธะณะปะฐัะตะฝะธะน
- [x] ะััะตัั ะฟะพ ะดะฐัะฐะผ
- [x] REST API
- [ ] Telegram Mini App
- [ ] Offline-ัะตะถะธะผ
- [ ] ะัะฐัะธะบะธ ะธ ะฐะฝะฐะปะธัะธะบะฐ
- [ ] ะญะบัะฟะพัั ะฒ Excel
- [ ] ะฃะฒะตะดะพะผะปะตะฝะธั ะธ ะฝะฐะฟะพะผะธะฝะฐะฝะธั
- [ ] ะะตะพะปะพะบะฐัะธั
- [ ] ะะพะฑะธะปัะฝะพะต ะฟัะธะปะพะถะตะฝะธะต

๐ ะะพะดัะพะฑะฝะตะต: [FEATURES.md](FEATURES.md)

## ๐ค ะฃัะฐััะธะต ะฒ ัะฐะทัะฐะฑะพัะบะต

ะั ะฟัะธะฒะตัััะฒัะตะผ contributions! ะะพะถะฐะปัะนััะฐ:

1. Fork ัะตะฟะพะทะธัะพัะธั
2. ะกะพะทะดะฐะนัะต feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit ะธะทะผะตะฝะตะฝะธั (`git commit -m 'Add AmazingFeature'`)
4. Push ะฒ branch (`git push origin feature/AmazingFeature`)
5. ะัะบัะพะนัะต Pull Request

## ๐ ะะธัะตะฝะทะธั

ะญัะพั ะฟัะพะตะบั ัะฐัะฟัะพัััะฐะฝัะตััั ะฟะพะด ะปะธัะตะฝะทะธะตะน MIT. ะกะผ. ัะฐะนะป [LICENSE](LICENSE) ะดะปั ะดะตัะฐะปะตะน.

## ๐ฅ ะะฒัะพัั

- **ะะฐัะต ะธะผั** - Initial work

## ๐ ะะปะฐะณะพะดะฐัะฝะพััะธ

- [Telegraf](https://telegraf.js.org/) - ะพัะปะธัะฝัะน ััะตะนะผะฒะพัะบ ะดะปั Telegram ะฑะพัะพะฒ
- [PostgreSQL](https://www.postgresql.org/) - ะฝะฐะดะตะถะฝะฐั ะกะฃะะ
- ะกะพะพะฑัะตััะฒะพ ัะฐะทัะฐะฑะพััะธะบะพะฒ Telegram

---

**ะกะดะตะปะฐะฝะพ ั โค๏ธ ะดะปั ัััะตะบัะธะฒะฝะพะณะพ ััะตัะฐ ะฟะพะบะฐะทะฐะฝะธะน ััะตััะธะบะพะฒ**

๐ง ะะพะฝัะฐะบัั: your-email@example.com  
๐ ะกะฐะนั: https://your-website.com  
๐ฑ Telegram: @your_username
